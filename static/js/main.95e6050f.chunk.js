(this.webpackJsonpcalc=this.webpackJsonpcalc||[]).push([[0],{125:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(34),c=n(5),s="SEND-MESAGE",a={messages:[{id:"1",message:"Hi"},{id:"2",message:"are"}],dialogs:[{id:"1",name:"Dima"},{id:"2",name:"Pet"}]},o=function(e){return{type:s,newMessageBody:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:var n=t.newMessageBody;return Object(c.a)(Object(c.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:"6",message:n}])});default:return e}}},16:function(e,t,n){e.exports={nav:"Navbar_nav__2imOE",item:"Navbar_item__zmMk4",activeLink:"Navbar_activeLink__3etBE"}},164:function(e,t,n){},165:function(e,t,n){},188:function(e,t,n){},189:function(e,t,n){},190:function(e,t,n){},21:function(e,t,n){"use strict";n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return f}));var r=n(131),c=r.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"7a5581ff-ee33-4869-a00c-f3166540c3e1"}}),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return c.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},a=function(e){return console.warn("obsolete method. pleaseprofileAPI object"),o.getProfile(e)},o={getProfile:function(e){return c.get("profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return c.get("profile/status/".concat(e))},updateStatus:function(e){return c.put("profile/status",{status:e})}},i=function(e){return c.delete("follow/".concat(e)).then((function(e){return e.data}))},u=function(e){return c.post("follow/".concat(e)).then((function(e){return e.data}))},l=function(){return c.get("auth/me")},f={login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return c.post("auth/login",{email:e,password:t,rememberMe:n})},logout:function(){return c.delete("auth/login")}}},26:function(e,t,n){e.exports={paginator:"Users_paginator__1zXC5",paginatorNumber:"Users_paginatorNumber__3y_Vd",selectedPage:"Users_selectedPage__J63sh",photoUser:"Users_photoUser__N2Vkt",infoUser:"Users_infoUser__21xR5",location:"Users_location__1IQvC",buttonFollowed:"Users_buttonFollowed__1oARv",wrInfo:"Users_wrInfo__vL_a_",color:"Users_color__3ldg9"}},289:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(0),s=n.n(c),a=n(65),o=n.n(a),i=(n(164),n(36)),u=n(37),l=n(39),f=n(38),j=n(10),d=(n(165),n(5)),b=n(14),p=n(90),h=n.n(p),O=n(13),g=function(e){return Object(r.jsxs)("header",{className:h.a.header,children:[Object(r.jsx)("img",{src:"https://www.freelogodesign.org/Content/img/logo-ex-7.png"}),Object(r.jsx)("div",{className:h.a.loginBlock,children:e.isAuth?Object(r.jsxs)("div",{children:[e.login," - ",Object(r.jsx)("button",{onClick:e.logout,children:"Log out"})]}):Object(r.jsx)(O.b,{to:"/login",children:"Login"})})]})},m=n(11),v=n.n(m),x=n(20),P=n(21),C=n(56),w="SET_USER_DATA",E={userId:null,email:null,login:null,isAuth:!1},y=function(e,t,n,r){return{type:w,payload:{userId:e,email:t,login:n,isAuth:r}}},S=function(){return function(){var e=Object(x.a)(v.a.mark((function e(t){var n,r,c,s,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.b)();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,c=r.id,s=r.email,a=r.login,t(y(c,s,a,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(d.a)(Object(d.a)({},e),t.payload);default:return e}},A=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsx)(g,Object(d.a)({},this.props))}}]),n}(s.a.Component),I=Object(b.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(x.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.logout();case 2:0===e.sent.resultCode&&t(y(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(A),k=n(16),N=n.n(k),T=function(){return Object(r.jsxs)("nav",{className:N.a.nav,children:[Object(r.jsx)("div",{className:N.a.item,children:Object(r.jsx)(O.b,{to:"/profile",activeClassName:N.a.activeLink,children:"profile"})}),Object(r.jsx)("div",{className:N.a.item,children:Object(r.jsx)(O.b,{to:"/dialogs",activeClassName:N.a.activeLink,children:"Messages"})}),Object(r.jsx)("div",{className:N.a.item,children:Object(r.jsx)(O.b,{to:"/news",activeClassName:N.a.activeLink,children:"News"})}),Object(r.jsx)("div",{className:N.a.item,children:Object(r.jsx)(O.b,{to:"/music",activeClassName:N.a.activeLink,children:"Music"})}),Object(r.jsx)("div",{className:N.a.item,children:Object(r.jsx)(O.b,{to:"/settings",activeClassName:N.a.activeLink,children:"Settings"})}),Object(r.jsx)("div",{className:N.a.item,children:Object(r.jsx)(O.b,{to:"/users",activeClassName:N.a.activeLink,children:"Users"})})]})},z=(n(188),function(){return Object(r.jsx)("div",{children:"News"})}),F=(n(189),function(){return Object(r.jsx)("div",{children:"Music"})}),L=(n(190),function(){return Object(r.jsx)("div",{children:"Settings"})}),M=n(34),q="FOLLOW",B="UNFOLLOW",D="SET_USERS",V="SET_CURRENT_PAGE",R="SET_TOTAL_USERS",J="TOGGLE_IS_FETCHING",K="TOGGLE_IS_FOLLOWING_IN_PROGRESS",W={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},H=function(e){return{type:q,userId:e}},Q=function(e){return{type:B,userId:e}},X=function(e){return{type:D,users:e}},Y=function(e){return{type:V,currentPage:e}},Z=function(e){return{type:R,totalUsersCount:e}},G=function(e){return{type:J,isFetching:e}},_=function(e,t){return{type:K,isFetching:e,userId:t}},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(d.a)(Object(d.a)({},e),{},{users:e.users.map((function(e){return t.userId===e.id?Object(d.a)(Object(d.a)({},e),{},{followed:!0}):e}))});case B:return Object(d.a)(Object(d.a)({},e),{},{users:e.users.map((function(e){return t.userId===e.id?Object(d.a)(Object(d.a)({},e),{},{followed:!1}):e}))});case D:return Object(d.a)(Object(d.a)({},e),{},{users:Object(M.a)(t.users)});case V:return Object(d.a)(Object(d.a)({},e),{},{currentPage:t.currentPage});case R:return Object(d.a)(Object(d.a)({},e),{},{totalUsersCount:t.totalUsersCount});case J:return Object(d.a)(Object(d.a)({},e),{},{isFetching:t.isFetching});case K:return Object(d.a)(Object(d.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(M.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},ee=n(45),te=n(128),ne=n(26),re=n.n(ne),ce=function(e){for(var t=e.totalItemsCount,n=e.pageSize,s=e.portionSize,a=void 0===s?10:s,o=e.onChangePage,i=e.currentPage,u=Math.ceil(t/n),l=[],f=1;f<=u;f++)l.push(f);var j=Math.ceil(u/a),d=Object(c.useState)(1),b=Object(te.a)(d,2),p=b[0],h=b[1],O=(p-1)*a+1,g=p+a;return Object(r.jsxs)("div",{className:re.a.paginator,children:[p>1&&Object(r.jsx)("button",{onClick:function(){h(p-1)},children:"Prev"}),l.filter((function(e){return e>=O&&e<=g})).map((function(e){return Object(r.jsx)("span",{className:i===e?re.a.selectedPage:re.a.color,onClick:function(){o(e)},children:e+" "},e)})),j>p&&Object(r.jsx)("button",{onClick:function(){h(p+1)},children:"next"})]})},se=function(e){var t=e.u,n=e.followingInProgress,c=e.unfollow,s=e.follow;return Object(r.jsxs)("div",{children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("div",{children:Object(r.jsx)(O.b,{to:"/profile"+t.id,children:Object(r.jsx)("img",{className:re.a.photoUser,src:t.photos.small||"data:image/png;base64,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"})})}),Object(r.jsxs)("div",{className:re.a.infoUser,children:[Object(r.jsx)("p",{children:t.name}),Object(r.jsx)("p",{children:t.status}),Object(r.jsxs)("div",{className:re.a.location,children:[Object(r.jsx)("p",{children:"u.location.city"}),Object(r.jsx)("span",{children:"u.location.country"})]})]})]}),t.followed?Object(r.jsx)("button",{disabled:n.some((function(e){return e===e.id})),onClick:function(){c(t.id)},className:re.a.buttonFollowed,children:" Unfollowed "}):Object(r.jsx)("button",{disabled:n.some((function(e){return e===e.id})),onClick:function(){s(t.id)},className:re.a.buttonFollowed,children:"Followed"})]})},ae=function(e){for(var t=e.totalUsersCount,n=e.pageSize,c=e.currentPage,s=e.onChangePage,a=Object(ee.a)(e,["totalUsersCount","pageSize","currentPage","onChangePage"]),o=Math.ceil(t/n),i=[],u=1;u<=o;u++)i.push(u);return Object(r.jsxs)("div",{children:[Object(r.jsx)(ce,{currentPage:c,onChangePage:s,totalItemsCount:t,pageSize:n}),a.users.map((function(e){return Object(r.jsx)(se,{u:e,follow:a.follow,unfollow:a.unfollow,followingInProgress:a.followingInProgress},e.id)}))]})},oe=n(41),ie=n(9),ue=(n(191),function(e){return e.userPage.users}),le=function(e){return e.userPage.pageSize},fe=function(e){return e.userPage.totalUsersCount},je=function(e){return e.userPage.currentPage},de=function(e){return e.userPage.isFetching},be=function(e){return e.userPage.followingInProgress},pe=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).onChangePage=function(e){r.props.requestUsers(e,r.props.pageSize)},r}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(r.jsxs)(r.Fragment,{children:[this.props.isFetching?Object(r.jsx)(oe.a,{}):null,Object(r.jsx)(ae,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onChangePage:this.onChangePage,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress})]})}}]),n}(s.a.Component),he=Object(ie.d)(Object(b.b)((function(e){return{users:ue(e),pageSize:le(e),totalUsersCount:fe(e),currentPage:je(e),isFetching:de(e),followingInProgress:be(e)}}),{follow:function(e){return function(){var t=Object(x.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(_(!0,e)),t.next=3,Object(P.e)(e);case 3:0===t.sent.resultCode&&n(H(e)),n(_(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function e(t){return function(){var n=Object(x.a)(v.a.mark((function n(r){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(_(!0,t)),n.next=3,Object(P.c)(t);case 3:0===n.sent.resultCode&&r(Q(t)),r(_(!1,t)),r(e(t));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},setUsers:X,setCurrentPage:Y,setTotalUsersCount:Z,requestUsers:function(e,t){return function(){var n=Object(x.a)(v.a.mark((function n(r){var c;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Y(e)),r(G(!0)),n.next=4,Object(P.f)(e,t);case 4:c=n.sent,r(X(c.items)),r(Z(c.totalCount)),r(G(!1));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(pe),Oe=n(126),ge=n(127),me=n(66),ve=n(67),xe=n(53),Pe=n.n(xe),Ce=Object(ve.a)(20),we=Object(ge.a)({form:"login"})((function(e){var t=e.handleSubmit;return Object(r.jsxs)("form",{onSubmit:t,children:[Object(r.jsx)("div",{children:Object(r.jsx)(Oe.a,{placeholder:"email",name:"email",component:me.a,validate:[ve.b,Ce]})}),Object(r.jsx)("div",{children:Object(r.jsx)(Oe.a,{name:"password",placeholder:"password",component:me.a,validate:[ve.b,Ce],type:"password"})}),Object(r.jsxs)("div",{children:[Object(r.jsx)(Oe.a,{name:"rememberMe",component:me.a,type:"checkbox"})," ","remember me"]}),e.error&&Object(r.jsx)("div",{className:Pe.a.formSummaryError,children:e.error}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{children:"login"})})]})})),Ee=Object(b.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var r=Object(x.a)(v.a.mark((function r(c){var s,a;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,P.a.login(e,t,n);case 2:0===(s=r.sent).resultCode?c(S()):(a=s.data.messages.length>0?s.data.messages[0]:"some error",c(Object(C.a)("login",{_error:a})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return e.isAuth?(console.log("login"),Object(r.jsx)(j.a,{to:"/profile"})):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{children:"LOGIN"}),Object(r.jsx)(we,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})]})})),ye="SET_INITIALIZED",Se={initialized:!1},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye:return Object(d.a)(Object(d.a)({},e),{},{initialized:!0});default:return e}},Ae=function(e){return function(t){return Object(r.jsx)(c.Suspense,{fallback:Object(r.jsx)(oe.a,{}),children:Object(r.jsx)(e,Object(d.a)({},t))})}},Ie=s.a.lazy((function(){return n.e(4).then(n.bind(null,295))})),ke=s.a.lazy((function(){return n.e(3).then(n.bind(null,294))})),Ne=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(r.jsxs)("div",{className:"app-wrapper",children:[Object(r.jsx)(I,{}),Object(r.jsx)(T,{}),Object(r.jsxs)("div",{className:"app-wrapper-content",children:[Object(r.jsx)(j.b,{path:"/dialogs",render:Ae(Ie)}),Object(r.jsx)(j.b,{path:"/profile/:userId?",render:Ae(ke)}),Object(r.jsx)(j.b,{path:"/news",render:function(){return Object(r.jsx)(z,{})}}),Object(r.jsx)(j.b,{path:"/music",render:function(){return Object(r.jsx)(F,{})}}),Object(r.jsx)(j.b,{path:"/settings",render:function(){return Object(r.jsx)(L,{})}}),Object(r.jsx)(j.b,{path:"/users",render:function(){return Object(r.jsx)(he,{})}}),Object(r.jsx)(j.b,{path:"/login",render:function(){return Object(r.jsx)(Ee,{})}})]})]}):Object(r.jsx)(oe.a,{})}}]),n}(s.a.Component),Te=Object(ie.d)(j.f,Object(b.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){e(S()).then((function(){e({type:ye})}))}}}))(Ne),ze=n(125),Fe=n(95),Le={},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le;return e},qe=n(133),Be=n(129),De=Object(ie.c)({profilePage:Fe.b,dialogsPage:ze.a,siteBar:Me,userPage:$,auth:U,form:Be.a,app:Ue}),Ve=Object(ie.e)(De,Object(ie.a)(qe.a)),Re=Ve;window.store=Ve;Re.getState(),o.a.render(Object(r.jsx)(O.a,{children:Object(r.jsx)(b.a,{store:Re,children:Object(r.jsx)(Te,{})})}),document.getElementById("root"))},41:function(e,t,n){"use strict";var r=n(1),c=(n(0),n.p+"static/media/preloader.e2b1bc7f.svg");t.a=function(e){return Object(r.jsx)("img",{src:c})}},53:function(e,t,n){e.exports={formControl:"FormsControls_formControl__3oI2W",error:"FormsControls_error__9lcue",formSummaryError:"FormsControls_formSummaryError__1F2-S"}},66:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n(5),c=n(45),s=n(1),a=(n(0),n(53)),o=n.n(a),i=function(e){e.input;var t=e.meta,n=Object(c.a)(e,["input","meta"]),r=t.touched&&t.error;return Object(s.jsxs)("div",{className:o.a.formControl+" "+r?o.a.error:"",children:[Object(s.jsx)("div",{children:n.children}),r&&Object(s.jsx)("span",{children:t.error})]})},u=function(e){var t=e.input,n=(e.meta,e.child,Object(c.a)(e,["input","meta","child"]));return Object(s.jsx)(i,Object(r.a)(Object(r.a)({},e),{},{children:Object(s.jsx)("textarea",Object(r.a)(Object(r.a)({},t),n))}))},l=function(e){var t=e.input,n=(e.meta,e.child,Object(c.a)(e,["input","meta","child"]));return Object(s.jsx)(i,Object(r.a)(Object(r.a)({},e),{},{children:Object(s.jsx)("input",Object(r.a)(Object(r.a)({},t),n))}))}},67:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));var r=function(e){if(!e)return"Field is required"},c=function(e){return function(t){if(t.length>e)return"max length ".concat(e," symbol")}}},90:function(e,t,n){e.exports={header:"Header_header__1VCKf",loginBlock:"Header_loginBlock__6mma5"}},95:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return O})),n.d(t,"e",(function(){return g}));var r=n(11),c=n.n(r),s=n(20),a=n(34),o=n(5),i=n(21),u="ADD-POST",l="SET_USER_PROFILE",f="SET_STATUS",j="DELETE_POST",d={posts:[{id:"1",message:"Hi",likesCount:11},{id:"2",message:"are",likesCount:11}],profile:null,status:""},b=function(e){return{type:u,newPostText:e}},p=function(e){return{type:f,status:e}},h=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.d)(e);case 2:r=t.sent,n({type:l,profile:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.g.getStatus(e);case 2:r=t.sent,n(p(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.g.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(p(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:console.log(t.newPostText);var n={id:5,message:t.newPostText,likesCount:3};return Object(o.a)(Object(o.a)({},e),{},{posts:[].concat(Object(a.a)(e.posts),[n]),newPostText:""});case l:return Object(o.a)(Object(o.a)({},e),{},{profile:t.profile});case j:return Object(o.a)(Object(o.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!=t.id}))});case f:return Object(o.a)(Object(o.a)({},e),{},{status:t.status});default:return e}}}},[[289,1,2]]]);
//# sourceMappingURL=main.95e6050f.chunk.js.map